@{
    ViewBag.Title = "Index";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />

<form method="post" id="form">
    <div class="row">
        <div class="col-2"></div>
        <div class="col-6 mt-3">
            <label class="form-label">Nombre: </label>
            <input id="name" type="text" class="form-control" name="nombre" size="20" minlength="3" required>
            <label class="form-label">Apellido: </label>
            <input id="lastname" type="text" class="form-control" name="apellido" size="20" minlength="3" required>
            <div class="mt-2">
                <input class="btn btn-success mr-2" type="submit" value="Enviar">
                <input class="btn btn-danger" type="reset" value="Borrar">
            </div>
        </div>
    </div>
</form>

<script>
    const form = document.getElementById('form');
    
    form.addEventListener('submit', (event) => {
        event.preventDefault();

        const user = {
            name: document.getElementById("name").value,
            lastname: document.getElementById("lastname").value
        }

        fetch("http://localhost:7259/Test", {
            method: 'POST',
            body: JSON.stringify(user),
            headers: {
                'Content-Type': 'application/json'
            }
        }).then((data) => { console.log(data) })
    });

    
</script>